#pragma once
#include "board.h"
#include "piece.h"

/*****************************
*      MATERIAL VALUE        *
* ***************************/
constexpr int PAWN_VALUE = 100;
constexpr int KNIGHT_VALUE = 305;
constexpr int BISHOP_VALUE = 310;
constexpr int ROOK_VALUE = 500;
constexpr int QUEEN_VALUE = 900;

/****************************
*    PIECE SQUARE TABLES    *
* ***************************/

constexpr int PAWN_PSQT[SQUARES] = {
	100, 100, 100, 100, 100, 100, 100, 100,
	160, 160, 160, 160, 160, 160, 160, 160,
	115, 115, 125, 140, 140, 125, 115, 115,
	105, 105, 110, 125, 125, 110, 105, 105,
	105, 100, 100, 120, 120, 100, 100, 105,
	105,  95,  90, 100, 100,  90,  95, 105,
	105, 110, 110,  70,  70, 110, 110, 105,
	100, 100, 100, 100, 100, 100, 100, 100};

constexpr int KNIGHT_PSQT[SQUARES] = {
	255, 265, 275, 275, 275, 275, 265, 255,
	265, 285, 305, 305, 305, 305, 285, 265,
	275, 305, 320, 325, 325, 320, 305, 275,
	275, 310, 320, 325, 325, 320, 310, 275,
	275, 305, 320, 325, 325, 320, 305, 275,
	275, 310, 315, 320, 320, 315, 310, 275,
	265, 285, 305, 310, 310, 305, 285, 265,
	255, 265, 275, 275, 275, 275, 265, 255};

constexpr int BISHOP_PSQT[SQUARES] = {
	290, 300, 300, 300, 300, 300, 300, 290,
	300, 310, 310, 310, 310, 310, 310, 300,
	300, 310, 315, 320, 320, 315, 310, 300,
	300, 315, 330, 320, 320, 330, 315, 300,
	300, 310, 330, 320, 320, 330, 310, 300,
	300, 320, 320, 320, 320, 320, 320, 300,
	300, 315, 310, 310, 310, 310, 315, 300,
	290, 300, 300, 300, 300, 300, 300, 290};

constexpr int ROOK_PSQT[SQUARES] = {
	500, 500, 500, 500, 500, 500, 500, 500,
	505, 510, 515, 520, 520, 515, 515, 505,
	495, 500, 500, 500, 500, 500, 500, 495,
	495, 500, 500, 500, 500, 500, 500, 495,
	495, 500, 500, 500, 500, 500, 500, 495,
	495, 500, 500, 500, 500, 500, 500, 495,
	495, 500, 500, 500, 500, 500, 500, 495,
	500, 500, 505, 505, 505, 510, 500, 500};

constexpr int QUEEN_PSQT[SQUARES] = {
	880, 890, 890, 895, 895, 890, 890, 880,
	890, 900, 900, 900, 900, 900, 900, 890,
	890, 900, 905, 910, 910, 905, 900, 890,
	895, 900, 905, 915, 915, 905, 900, 895,
	900, 900, 905, 915, 915, 905, 900, 895,
	890, 905, 905, 905, 905, 905, 905, 890,
	890, 900, 905, 900, 900, 900, 900, 890,
	880, 890, 890, 895, 895, 890, 890, 880};

constexpr int KING_MG_PSQT[SQUARES] = {
	-30, -40, -40, -50, -50, -40, -40, -30,
    -30, -40, -40, -50, -50, -40, -40, -30,
    -30, -40, -40, -50, -50, -40, -40, -30,
    -30, -40, -40, -50, -50, -40, -40, -30,
    -20, -30, -30, -40, -40, -30, -30, -20,
    -10, -20, -20, -20, -20, -20, -20, -10,
 	  0,   0,   0, -10, -10,   0,   0,   0,
	 10,  10,  20, -10, -10,  10,  30,  10};

constexpr int KING_EG_PSQT[SQUARES] = {
	-30, -40, -40, -50, -50, -40, -40, -30,
	-30, -40, -40, -50, -50, -40, -40, -30,
	-30, -40, -40, -50, -50, -40, -40, -30,
	-30, -40, -40, -50, -50, -40, -40, -30,
	-20, -30, -30, -40, -40, -30, -30, -20,
	-10, -20, -20, -20, -20, -20, -20, -10,
	   0,   0,   0, -10, -10,   0,   0,   0,
	 10,  10,  20, -10, -10,  10,  30,  10};

constexpr int FLIP[SQUARES] = {      // FLIP array for indexing piece-square tables for white pieces
	56, 57, 58, 59, 60, 61, 62, 63,
	48, 49, 50, 51, 52, 53, 54, 55,
	40, 41, 42, 43, 44, 45, 46, 47,
	32, 33, 34, 35, 36, 37, 38, 39,
	24, 25, 26, 27, 28, 29, 30, 31,
	16, 17, 18, 19, 20, 21, 22, 23,
	 8,  9, 10, 11, 12, 13, 14, 15,
	 0,  1,  2,  3,  4,  5,  6,  7,
};

extern int PIECE_SQUARE[COLORS][PIECES][SQUARES];

namespace evaluation {
	void initPieceSquareTable();
	int positionalScore(const U64(&)[COLORS][PIECES]);
	void useKingEndgamePSQT();
}
